<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basic Demo</title>
    <link rel="stylesheet" href="sass/style.css">
</head>
<body>
    <div id="header"></div>
    <main>
        <section class="pagehero">
            <img class="hero-img" src="img/jacksonwall.jpg" alt="Do Jackson mural">
            <div class="hero-desc">
                <h2 class="hero-title">Do Jackson</h2>
                <p class="byline"><em>Welcome to Jackson, Mississippi</em></p>
                
                <div class="story-collapsible collapsed" id="dojackson-story">
                    <div class="hero-byline-img" style="width:100%;height:200px;background:url('img/skyline.jpg') center/cover;border-radius:8px;margin:1rem 0;" aria-label="Jackson skyline"></div>
                    <p>Welcome to Jackson, Mississippi—a city where rich history, vibrant culture, and Southern charm come together in ways you won't find anywhere else. From soul-stirring live music to mouthwatering cuisine, world-class museums to outdoor adventures, Jackson offers something for everyone.</p>
                    <p>Explore historic landmarks like the Mississippi State Capitol and the Medgar and Myrlie Evers Home National Monument. Dive into arts and culture at the Mississippi Museum of Art or catch a live show at one of our iconic music venues. Savor authentic Southern cooking at beloved local spots, or experience the city's thriving food scene at festivals and farmers markets.</p>
                    <p>Whether you're visiting for a weekend or calling Jackson home, there's always something new to discover. So come on—Do Jackson your way!</p>
                </div>
                
                <button id="dojackson-toggle" class="read-toggle" aria-expanded="false">See more</button>
            </div>
        </section>
    </main>
    <div id="footer"></div>
    <script>
        // Load header and initialize menu
        fetch('/header.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('header').innerHTML = data;
                // Menu toggle script (now runs after injection)
                var menuToggle = document.getElementById('menuToggle');
                var mobileMenu = document.getElementById('mobileMenu');
                if (menuToggle && mobileMenu) {
                    // Function to check if we're on mobile
                    function isMobile() {
                        return window.innerWidth <= 600;
                    }
                    
                    // Function to update menu visibility
                    function updateMenuVisibility() {
                        if (isMobile()) {
                            mobileMenu.style.display = 'none';
                        } else {
                            mobileMenu.style.display = 'block';
                        }
                    }
                    
                    // Set initial state
                    updateMenuVisibility();
                    
                    // Update on resize
                    window.addEventListener('resize', updateMenuVisibility);
                    
                    menuToggle.addEventListener('click', function() {
                        if (isMobile()) {
                            mobileMenu.style.display = (mobileMenu.style.display === 'none') ? 'block' : 'none';
                        }
                    });
                    var menuLinks = mobileMenu.querySelectorAll('a');
                    menuLinks.forEach(function(link) {
                        link.addEventListener('click', function(e) {
                            menuLinks.forEach(function(l) { l.classList.remove('selected'); });
                            this.classList.add('selected');
                        });
                    });
                }
            });
        // Load footer
        fetch('/footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer').innerHTML = data;
            });
    </script>
    <script>
        // Toggle script for Do Jackson story
        (function(){
            var btn = document.getElementById('dojackson-toggle');
            var story = document.getElementById('dojackson-story');
            if(btn && story){
                btn.addEventListener('click', function(){
                    var expanded = btn.getAttribute('aria-expanded') === 'true';
                    if(expanded){
                        story.classList.remove('expanded');
                        story.classList.add('collapsed');
                        btn.textContent = 'See more';
                        btn.setAttribute('aria-expanded','false');
                    } else {
                        story.classList.remove('collapsed');
                        story.classList.add('expanded');
                        btn.textContent = 'See less';
                        btn.setAttribute('aria-expanded','true');
                    }
                });
            }
        })();
    </script>
</body>
</html>
